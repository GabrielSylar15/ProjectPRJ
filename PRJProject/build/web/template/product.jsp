<%-- 
    Document   : product
    Created on : Mar 7, 2022, 5:34:29 PM
    Author     : ADMIN
--%>

<%@page import="java.util.ArrayList"%>
<%@page import="model.Product"%>
<%@page import="model.ProductImages"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@ taglib prefix = "c" uri = "http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>S·∫£n ph·∫©m</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">
    <!-- Font -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- CSS here -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/flaticon.css">
        <link rel="stylesheet" href="assets/css/slicknav.css">
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
        <link rel="stylesheet" href="assets/css/themify-icons.css">
        <link rel="stylesheet" href="assets/css/slick.css">
        <link rel="stylesheet" href="assets/css/nice-select.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="../Homepage/base.css">
        <link rel="stylesheet" href="../Homepage/grid.css">
        <link rel="stylesheet" href="../Homepage/home.css">
</head>
    <%
        ArrayList<Product> listProducts = (ArrayList<Product>) request.getAttribute("listProducts");
        int totalpage = (Integer)(request.getAttribute("totalpage"));
        int pageindex = (Integer) request.getAttribute("pageindex");
    %>
  
<body>

    <header>
        <div class="header__largescreen">
            <div class="header__ann">
                <p>S·∫£n ph·∫©m abcxyz ƒë√£ tƒÉng gi√° l√™n 50%, m·ªçi ng∆∞·ªùi ch√∫ √Ωüí• S·∫£n ph·∫©m abc ƒë√£ tƒÉng gi√° l√™n 50%, m·ªçi ng∆∞·ªùi ch√∫ √Ωüí• </p>
             </div>
             <div class="header row">
                 <div class="header__logo lg-2 md-2">
                     <img src="../Homepage/assets/img/pngtree-human-feet-icon-flat-style-png-image_1809427.jpg" alt="">
                  
                     <a href="">Shop gi√†y d√©p</a>
                 </div>
                 <div class="header__navigation lg-6 md-6">
                     <ul>
                         <li>
                             <a href="../Homepage/Home.jsp">Trang ch·ªß</a>
                         </li>
                         <li>
                             <a href="..template/listproduct.jsp">Gi√†y</a>
                         </li>
                         <li>
                             <a href="">D√©p</a>
                         </li>
                         <li class="parent">
                             <a href="#">Ph·ª• ki·ªán</a>
                             <ul class="child">
                                 <li>
                                     <a href="#">√Åo m∆∞a</a>
                                 </li>
                                 <li>
                                     <a href="#">Gang tay</a>
                                 </li>
                                 <li>
                                     <a href="#">Qu·∫ßn ·ªßng</a>
                                 </li>
                                 <li>
                                     <a href="#">Kh√°c</a>
                                 </li>
                                 <li>
                                     <a href="">Kh√°c n·ªØa</a>
                                 </li>
                             </ul>
                         </li>
                         <li>    
                             <a href="">Li√™n h·ªá</a>
                         </li>
                     </ul>
                 </div>
                 <div class="header__tool lg-4 md-4">
                     <ul>
                         <li class="search">
                             <div class="search__bigscreen">
                                 <input type="text" placeholder="T√¨m ki·∫øm...">
                                 <i class="fa-solid fa-magnifying-glass"></i> 
                             </div>
                         </li>
                         <li class="cart">
                             <a href=""><i class="fa-solid fa-cart-shopping"></i></a>
                         </li>
                         <!-- <li class="login"><a href="../">ƒêƒÉng Nh·∫≠p</a></li> -->
                         <li class="cart">                        
                            <a href="" class="user">
                                <i class="fa-solid fa-user"></i>
                            </a>
                            <div class="expand-infor">
                                <a href=""><i class="fa-solid fa-user-large"></i> Nguy·ªÖn Th·∫ø Vinh</a> 
                                <a href="">VinhNT</a>
                                <a href="">ƒê∆°n h√†ng ƒë√£ mua</a>
                                <a href="">ƒê·∫∑t tr∆∞·ªõc</a>
                            </div>
                        </li>
                     </ul>
                 </div>
             </div>
        </div>

        <div class="col-12 mobile__header">
            <ul class="header__mobile--nav">
                <li class="header__logo">
                    <img src="../Homepage/assets/img/pngtree-human-feet-icon-flat-style-png-image_1809427.jpg" alt="">
                    <a href="">Shop gi√†y d√©p</a>
                </li> 

                <li class="cart">
                    <a href=""><i class="fa-solid fa-cart-shopping"></i></a>
                </li>

                <li class="header__bar">
                    <i class="fa-solid fa-bars"></i>
                </li>
            </ul>

            <ul class="mobile__nav">
                <li>
                    <div class="mobile__search">
                        <input type="text" placeholder="T√¨m ki·∫øm...">
                        <i class="fa-solid fa-magnifying-glass"></i> 
                    </div>
                </li>
                <li>
                    <a href="">Trang ch·ªß</a>
                </li>
                <li>
                    <a href="">Gi√†y</a>
                </li>
                <li>
                    <a href="">D√©p</a>
                    <!-- <ul class="child">
                        <li>
                            <a href="">D√©p t·ªï ong</a>
                        </li>
                        <li>
                            <a href="">D√©p t·ªï ong</a>
                        </li>
                        <li>
                            <a href="">D√©p t·ªï ong</a>      
                        </li>
                    </ul> -->
                </li>
                <li class="parent">
                    <a href="#">Ph·ª• ki·ªán</a>
                    <ul class="child">
                        <li>
                            <a href="#">√Åo m∆∞a</a>
                        </li>
                        <li>
                            <a href="#">Gang tay</a>
                        </li>
                        <li>
                            <a href="#">Qu·∫ßn ·ªßng</a>
                        </li>
                        <li>
                            <a href="#">Kh√°c</a>
                        </li>
                        <li>
                            <a href="">Kh√°c n·ªØa</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="">Li√™n h·ªá</a>
                </li>
                <li><a href="">ƒêƒÉng Nh·∫≠p</a></li>
            </ul>

        </div>
    </header>

    <!-- slider Area Start-->
    <div class="slider-area ">
        <!-- Mobile Menu -->
        <div class="single-slider slider-height2 d-flex align-items-center" data-background="assets/img/hero/category.jpg">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="hero-cap text-center">
                            <h2>Danh s√°ch s·∫£n ph·∫©m</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- slider Area End-->
    
    <!-- product list part start-->
    <section class="product_list section_padding">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-lg-3">
                    <div class="product_sidebar">
                        <div class="single_sedebar">
                            <form action="#">
                                <input type="text" name="#" placeholder="T√¨m ki·∫øm">
                                <a href=""><i class="ti-search"></i></a>
                            </form>
                        </div>
                        <div class="single_sedebar">
                            <div class="select_option">
                                <div class="select_option_list">Danh m·ª•c s·∫£n ph·∫©m<i class="right fas fa-caret-down"></i> </div>
                                <div class="select_option_dropdown">
                                    <c:forEach items="${requestScope.listCategories}" var="c">
                                        <p><a href="displayproducts?categoryid=${c.categoryID}">${c.categoryName}</a></p>
                                    </c:forEach>
                                </div>
                            </div>
                        </div>
                        <div class="single_sedebar">
                            <div class="select_option">
                                <div class="select_option_list">S·∫Øp x·∫øp theo<i class="right fas fa-caret-down"></i> </div>
                                <div class="select_option_dropdown">
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="price-desc">
                                        <a href="">Gi√°m gi·∫£m d·∫ßn</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="price-asc">
                                        <a href="">Gi√° tƒÉng d·∫ßn</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="best-selling">
                                        <a href="#">S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="maxquantity">
                                        <a href="#">S·ªë l∆∞·ª£ng nhi·ªÅu nh·∫•t</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="minquantity">
                                        <a href="#">S·ªë l∆∞·ª£ng √≠t nh·∫•t</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="newest">
                                        <a href="#">M·ªõi nh·∫•t</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="oldest">
                                        <a href="#">C≈© nh·∫•t</a>
                                    </p>
                                    <p class="order">
                                        <input class="ordervalue" type="hidden" value="benifit">
                                        <a href="#">L·ª£i nhu·∫≠n l·ªõn nh·∫•t</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 col-lg-9">
                    <div class="product_list">
                        <div class="row">
                           <%for (Product p : listProducts) {%>
                                 <div class="col-lg-4 col-sm-12 col-md-6">
                                     <img src="../<%=p.getListImages().get(0).getImage()%>" alt="" class="img-fluid">
                                    <div class="single_product_item">
                                        <h3> <a href="productdetail?pid=<%=p.getProductID()%>"><%=p.getProductName()%></a> </h3>
                                        <p><%=p.getPrice()%></p>
                                    </div>
                                </div>                            
                           <%}%>
                        </div>
                        <div class="load_more_btn text-center" id="pagger">
                            <!--<a href="#" class="btn_3">Load More</a>-->
<!--                            <a>1</a>
                            <a>2</a>
                            <a>3</a>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- product list part end-->



<!-- JS here -->
        <!-- All JS Custom Plugins Link Here here -->
        <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
        
        <!-- Jquery, Popper, Bootstrap -->
        <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
        <script src="./assets/js/popper.min.js"></script>
        <script src="./assets/js/bootstrap.min.js"></script>
        <!-- Jquery Mobile Menu -->
        <script src="./assets/js/jquery.slicknav.min.js"></script>

        <!-- Jquery Slick , Owl-Carousel Plugins -->
        <script src="./assets/js/owl.carousel.min.js"></script>
        <script src="./assets/js/slick.min.js"></script>

        <!-- One Page, Animated-HeadLin -->
        <script src="./assets/js/wow.min.js"></script>
        <script src="./assets/js/animated.headline.js"></script>
        <script src="./assets/js/jquery.magnific-popup.js"></script>

        <!-- Scrollup, nice-select, sticky -->
        <script src="./assets/js/jquery.scrollUp.min.js"></script>
        <script src="./assets/js/jquery.nice-select.min.js"></script>
        <script src="./assets/js/jquery.sticky.js"></script>
        
        <!-- contact js -->
        <script src="./assets/js/contact.js"></script>
        <script src="./assets/js/jquery.form.js"></script>
        <script src="./assets/js/jquery.validate.min.js"></script>
        <script src="./assets/js/mail-script.js"></script>
        <script src="./assets/js/jquery.ajaxchimp.min.js"></script>
        
        <!-- Jquery Plugins, main Jquery -->    
        <script src="./assets/js/plugins.js"></script>
        <script src="./assets/js/main.js"></script>

        <!-- swiper js -->
        <script src="./assets/js/swiper.min.js"></script>
            <!-- swiper js -->
        <script src="./assets/js/mixitup.min.js"></script>
        <script src="./assets/js/jquery.counterup.min.js"></script>
        <script src="./assets/js/waypoints.min.js"></script>
        <!--  -->
        <script src="../Homepage/home.js"></script>
        <script src="pagger.js"></script>
</body>
<script>
     pagger('pagger',<%=pageindex%>, <%=totalpage%>,3);
     var OrderValues = document.querySelectorAll(".ordervalue");
     var Taga = document.querySelectorAll(".order a");
     console.log(OrderValues[0].value)
     document.querySelectorAll(".order").forEach((element,index) => {
         element.onclick = function(){
             if(window.location.search.includes("category")){
                var categoryid =  parseInt(window.location.search.split("=")[1]);
                Taga[index].href='displayproducts?categoryid='+categoryid+'&order='+OrderValues[index].value;
             }else{
                Taga[index].href='displayproducts?order='+OrderValues[index].value;
             }
         }
     });
</script>
</html>